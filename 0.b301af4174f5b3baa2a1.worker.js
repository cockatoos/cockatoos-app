!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,(function(t){return e[t]}).bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="ll7A")}({ll7A:function(e,t,n){"use strict";n.r(t);var r=n("qcs1");Object(r.initMp3MediaEncoder)({vmsgWasmUrl:"https://unpkg.com/vmsg@0.3.6/vmsg.wasm"})},qcs1:function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})}Object.defineProperty(t,"__esModule",{value:!0}),t.initMp3MediaEncoder=({vmsgWasmUrl:e})=>{const t=self,n=new WebAssembly.Memory({initial:2048,maximum:2048});let o=5242880;const i=(a=e,s={env:{memory:n,sbrk:e=>{const t=o;return o+=e,t},exit:()=>t.postMessage({type:"ERROR",error:"internal"}),pow:Math.pow,powf:Math.pow,exp:Math.exp,sqrtf:Math.sqrt,cos:Math.cos,log:Math.log,sin:Math.sin}},WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fetch(a),s).catch(()=>l(a,s)):l(a,s)).then(e=>e.instance.exports);var a,s;let c,u,f=!1;function l(e,t){return fetch(e).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,t))}t.addEventListener("message",e=>r(void 0,void 0,void 0,function*(){const o=e.data;try{switch(o.type){case"START_RECORDING":yield(s=o.config,r(void 0,void 0,void 0,function*(){const e=yield i;if(f=!0,c=e.vmsg_init(s.sampleRate),!c||!e)throw new Error("init_failed");const t=new Uint32Array(n.buffer,c,1)[0];u=new Float32Array(n.buffer,t)})),t.postMessage({type:"WORKER_RECORDING"});break;case"DATA_AVAILABLE":yield(a=o.data,r(void 0,void 0,void 0,function*(){if(f&&(u.set(a),(yield i).vmsg_encode(c,a.length)<0))throw new Error("encoding_failed")}));break;case"STOP_RECORDING":{const e=yield r(void 0,void 0,void 0,function*(){const e=yield i;if(f=!1,e.vmsg_flush(c)<0)throw new Error("flush_failed");const t=new Uint32Array(n.buffer,c+4,1)[0],r=new Uint32Array(n.buffer,c+8,1)[0],o=new Uint8Array(n.buffer,t,r),a=new Blob([o],{type:"audio/mpeg"});return e.vmsg_free(c),a});t.postMessage({type:"BLOB_READY",blob:e});break}}}catch(l){t.postMessage({type:"ERROR",error:l.message})}var a,s}))}}});